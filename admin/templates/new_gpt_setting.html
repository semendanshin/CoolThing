{% extends 'base.html' %}

{% block title %}GPT Setting{% endblock %}

{% block head %}
    <link href="/static/form.css" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="container">
    <h1>GPT Setting</h1>
    <p>Here you can create a new GPT Setting.</p>
    <form action="/gpt" method="post">
        <div class="row">
            <label for="model" class="field-label">Model</label>
            <input class="input-field" id="model" name="model" required>
        </div>
        <div class="row">
            <label for="token" class="field-label">Token</label>
            <input class="input-field" id="token" name="token" required>
        </div>
        <div class="row">
            <label for="assistant" class="field-label">Assistant ID</label>
            <input class="input-field" id="assistant" name="assistant">
        </div>
        <div class="row">
            <label for="service_prompt" class="field-label">Service Prompt</label>
            <textarea class="input-field" id="service_prompt" name="service_prompt"></textarea>
        </div>
        <div class="row">
            <label for="proxy" class="field-label">Proxy</label>
            <input class="input-field" id="proxy" name="proxy">
        </div>
        <div class="row">
            <input type="submit" value="Save Changes" class="submit-button">
        </div>
    </form>
    <script>
        document.querySelector('form').addEventListener('submit', function(event) {
            const servicePrompt = document.querySelector('#service_prompt').value;
            const assistant = document.querySelector('#assistant').value;
            if (!servicePrompt && !assistant) {
                alert('You must provide either a Service Prompt or an Assistant ID');
                event.preventDefault();
            }
        });
    </script>
</div>
{% endblock %}
