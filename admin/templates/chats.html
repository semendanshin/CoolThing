{% extends 'base.html' %}

{% block title %}
    Chats
{% endblock %}

{% block head %}
    <link href="{{ url_for('static', path='/chats.css') }}" rel="stylesheet">
{% endblock %}

{% block content %}
    <div class="container">
        <div class="chat-content">
            {% if chat is not none %}
                <div class="chat-header">
                    <span class="main-chat bot-name">{{ chat.bot_nickname }}</span>
                    <span class="main-chat user-name">{{ chat.user_nickname }}</span>
                    <div class="main-chat status {{ chat.status }}"></div>
                </div>
                <div class="main-chat messages">
                    {% for message in chat.messages %}
                        <div class="main-chat message {{ message.type }}">{{ message.text }}</div>
                    {% endfor %}
                </div>
                <div class="input-area">
                    <input type="text" placeholder="Напишите сообщение...">
                    <button>Отправить</button>
                </div>
            {% else %}
                <div class="no-chat">Выберите чат для просмотра</div>
            {% endif %}
        </div>
        <div class="chat-list">
            {% for item in chat_items %}
                <div class="chat-item">
                    <div class="chat-item-content">
                        <div class="chat-item-info">
                            <span class="bot-name">{{ item.bot_nickname }}</span>
                            <span class="user-name">{{ item.user_nickname }}</span>
                        </div>
                        <div class="chat-item-message">
                            <span class="last-message">{{ item.last_message }}</span>
                        </div>
                    </div>
                    <div class="status {{ item.status }}"></div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}